<div class="container">
    <button class="btn btn-success" ng-click="$ctrl.showGameResults()">{{'BACK_BUTTON' | translate}}</button>
    <button class="btn btn-danger" ng-if="$ctrl.state === 'finished' && $ctrl.auth && $ctrl.gameStatus"
            ng-click="$ctrl.editResults()">{{'EDIT_RESULTS_BUTTON' | translate}}
    </button>
    <button class="btn btn-danger" ng-if="$ctrl.state === 'finished' && $ctrl.auth && !$ctrl.gameStatus"
            ng-click="$ctrl.blockEditing()">{{'SAVE_RESULTS_BUTTON' | translate}}
    </button>

    <h1>{{$ctrl.teamName}} : <span class="team-total"> {{$ctrl.teamTotal.toFixed(1)}}</span>
        <span class="date"><a ng-href="#!/games/{{$ctrl.gameId}}/results">{{$ctrl.date}}</a></span>
    </h1>
    <table class="table table-sm table-striped table-hover ">
        <thead>
        <th>{{'ROUND_NAME_TABLE_HEADER' | translate}}</th>
        <th id="quiz-title">{{'QUIZZES_TABLE_HEADER' | translate}}</th>
        <th id="total-title">{{'TOTAL_TABLE_HEADER' | translate}}</th>
        </thead>
        <tbody>
            <tr ng-repeat="round in $ctrl.roundsResult">
                <td class="round-name">{{round.roundNum}}. {{round.roundName}}</td>
                <td class="quiz-row">
                    <form name="resultForm">
                    <span class="inp"
                          ng-repeat="quiz in round.quizzes  track by quiz.quizNum"
                          ng-class="{'btn-success' : +(quiz.score) > 0,
                          'btn-silver' : +(quiz.score) === 0,
                          'btn-danger' : +(quiz.score) < 0}">
                        <span uib-tooltip = "â„– {{quiz.quizNum}}">
                            <input
                                    name="{{round.roundNum}}_{{quiz.quizNum}}"
                                    class="quiz-input"
                                    ng-class="{'edited' : quiz.edit}"
                                    type="number"
                                    ng-model="quiz.score"
                                    ng-disabled="$ctrl.gameStatus"
                                    ng-change="$ctrl.setTeamResult(round,quiz)"
                                    ng-model-options="{ updateOn: 'default blur', debounce: { default: 1000, blur: 0 } }"
                                    min="-20"
                                    max="20"
                                >

                        </span>
                    </span>
                    </form>
                </td>
                <td class="total-score" ng-model="round.total" ng-class="$ctrl.totalColor(round)">{{round.total}}</td>
            </tr>
        </tbody>
    </table>
</div>